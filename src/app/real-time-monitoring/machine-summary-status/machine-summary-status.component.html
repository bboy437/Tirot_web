<div fxLayout="column" class="components-container-gt-xs" fxLayoutGap="20px">

  <!-- <div class="spinner-loading-shade" *ngIf="isLoadingResults">
    <mat-spinner *ngIf="isLoadingResults"></mat-spinner>
  </div> -->

  <div fxFlex class="table-component-holder mat-elevation-z4">
    <mat-toolbar class="table-header">
      <h1 class="mat-headline center-align">Machine Summary Status</h1>
    </mat-toolbar>


    <div class="table-container">

      <table width="100%">
        <tr>
          <td style="width: 10%">
            <button mat-raised-button (click)="downloadButtonPush()" color="primary">Export CSV </button>
          </td>
          <td style="width: 80%">
            <!-- <mat-form-field>
              <input matInput [(ngModel)]="filter" (keyup)="applyFilter($event.target.value)" placeholder="Filter">
            </mat-form-field> -->
          </td>

          <td style="width: 10%">
            <mat-form-field class="formfield-full-width">
              <input readonly matInput [matDatepicker]="picker" [(ngModel)]="DateSelected" placeholder="Choose a date">
              <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
              <mat-datepicker #picker (selectedChanged)="onDateChanged($event)"></mat-datepicker>
            </mat-form-field>
          </td>

        </tr>
      </table>



      <mat-table [dataSource]="dataSource" matSortActive="productName" matSortDirection="asc" matSortDisableClear
        matSort>
        <ng-container matColumnDef="id">
          <mat-header-cell *matHeaderCellDef mat-sort-header>No</mat-header-cell>
          <mat-cell *matCellDef="let machinesummarystatus"> {{machinesummarystatus.id}} </mat-cell>
        </ng-container>

        <ng-container matColumnDef="machineName">
          <mat-header-cell *matHeaderCellDef mat-sort-header>Name</mat-header-cell>
          <mat-cell *matCellDef="let machinesummarystatus"> {{machinesummarystatus.machineName}} </mat-cell>
        </ng-container>

        <ng-container matColumnDef="runTime">
          <mat-header-cell *matHeaderCellDef mat-sort-header style="background-color: rgb(71, 141, 71); color:beige;">
            Time</mat-header-cell>

          <mat-cell *matCellDef="let machinesummarystatus"
            [ngClass]="{'Run': machinesummarystatus.runTime == machinesummarystatus.runTime}">
            {{machinesummarystatus.runTime}} </mat-cell>
        </ng-container>

        <ng-container matColumnDef="runCount">
          <mat-header-cell *matHeaderCellDef mat-sort-header style="background-color: rgb(71, 141, 71); color:beige;">
            CNT.</mat-header-cell>
          <mat-cell *matCellDef="let machinesummarystatus"
            [ngClass]="{'Run': machinesummarystatus.runCount == machinesummarystatus.runCount}">
            {{machinesummarystatus.runCount}} </mat-cell>
        </ng-container>

        <ng-container matColumnDef="setupTime">
          <mat-header-cell *matHeaderCellDef mat-sort-header style="background-color: rgb(202, 191, 38); color:beige;">
            Time</mat-header-cell>
          <mat-cell *matCellDef="let machinesummarystatus"
            [ngClass]="{'Setup': machinesummarystatus.setupTime == machinesummarystatus.setupTime}">
            {{machinesummarystatus.setupTime}} </mat-cell>
        </ng-container>

        <ng-container matColumnDef="setupCount">
          <mat-header-cell *matHeaderCellDef mat-sort-header style="background-color: rgb(202, 191, 38); color:beige;">
            CNT.</mat-header-cell>
          <mat-cell *matCellDef="let machinesummarystatus"
            [ngClass]="{'Setup': machinesummarystatus.setupCount == machinesummarystatus.setupCount}">
            {{machinesummarystatus.setupCount}} </mat-cell>
        </ng-container>


        <ng-container matColumnDef="stopTime">
          <mat-header-cell *matHeaderCellDef mat-sort-header style="background-color: rgb(170, 53, 53); color:beige;">
            Time</mat-header-cell>
          <mat-cell *matCellDef="let machinesummarystatus"
            [ngClass]="{'Stop': machinesummarystatus.stopTime == machinesummarystatus.stopTime}">
            {{machinesummarystatus.stopTime}} </mat-cell>
        </ng-container>

        <ng-container matColumnDef="stopCount">
          <mat-header-cell *matHeaderCellDef mat-sort-header style="background-color: rgb(170, 53, 53);color:beige;">
            CNT.</mat-header-cell>
          <mat-cell *matCellDef="let machinesummarystatus"
            [ngClass]="{'Stop': machinesummarystatus.stopTime == machinesummarystatus.stopTime}">
            {{machinesummarystatus.stopCount}} </mat-cell>
        </ng-container>


        <!-- <ng-container matColumnDef="qaTime">
          <mat-header-cell *matHeaderCellDef mat-sort-header style="background-color: rgb(79, 103, 153); color:beige;">
            Time</mat-header-cell>
          <mat-cell *matCellDef="let machinesummarystatus"
            [ngClass]="{'QA': machinesummarystatus.qaTime == machinesummarystatus.qaTime}">
            {{machinesummarystatus.qaTime}} </mat-cell>
        </ng-container>

        <ng-container matColumnDef="qaCount">
          <mat-header-cell *matHeaderCellDef mat-sort-header style="background-color: rgb(79, 103, 153); color:beige;">
            CNT.</mat-header-cell>
          <mat-cell *matCellDef="let machinesummarystatus"
            [ngClass]="{'QA': machinesummarystatus.qaCount == machinesummarystatus.qaCount}">
            {{machinesummarystatus.qaCount}} </mat-cell>
        </ng-container> -->

        <ng-container matColumnDef="total">
          <mat-header-cell *matHeaderCellDef mat-sort-header>Total</mat-header-cell>
          <mat-cell *matCellDef="let machinesummarystatus"> {{machinesummarystatus.total }} </mat-cell>
        </ng-container>

        <ng-container *matHeaderRowDef="displayedColumns">
          <div style="background-color: rgb(255, 255, 255)" class="mat-header-row header-group-row">

            <div class="mat-header-cell header-group" role="columnheader" style="flex: 1 ;width: 100% ; height: 100%;"></div>
            <div class="mat-header-cell header-group" role="columnheader" style="flex: 1 ;width: 100% ; height: 100%;"></div>
            <div class="mat-header-cell header-group" role="columnheader" style="flex: 2"> <button mat-raised-button
                style="background-color: rgb(71, 141, 71);  color:beige; width: 100% ; height: 100%;">RUN</button></div>
            <div class="mat-header-cell header-group" role="columnheader" style="flex: 2"> <button mat-raised-button
                style="background-color: rgb(202, 191, 38);  color:beige;  width: 100% ; height: 100%;">SETUP </button>
            </div>
            <div class="mat-header-cell header-group" role="columnheader" style="flex: 2"> <button mat-raised-button
                style="background-color:  rgb(170, 53, 53); color:beige; width: 100% ; height: 100%;">STOP </button>
            </div>
            <!-- <div class="mat-header-cell header-group" role="columnheader" style="flex: 2"> <button mat-raised-button
                style="background-color:rgb(79, 103, 153); color:beige; width: 100% ; height: 100%;">QA</button></div> -->

            <div class="mat-header-cell header-group" role="columnheader" style="flex: 1 ;width: 100% ; height: 100%;"></div>
          </div>
          <mat-header-row></mat-header-row>
        </ng-container>

        <!-- <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row> -->
        <mat-row *matRowDef="let row; columns: displayedColumns;" matRipple class="element-row"></mat-row>

      </mat-table>

      <mat-paginator [length]="5" [pageSize]="10" [pageSizeOptions]="[10, 25]">
      </mat-paginator>


    </div>



  </div>
</div>