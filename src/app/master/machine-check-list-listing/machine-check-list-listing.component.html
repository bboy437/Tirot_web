<div fxLayout="column" class="components-container-gt-xs" fxLayoutGap="20px">

  <div fxFlex class="table-component-holder mat-elevation-z4">
    <mat-toolbar class="table-header">
      <h1 class="mat-headline center-align">Machine Check List Template</h1>
    </mat-toolbar>



    <div class="table-container">
      <table width="100%">
        <tr>
          <td style="width: 10%;">
            <button mat-raised-button color="primary" (click)="btnNewClick()">New</button>
          </td>
          <td style="width: 90%;">

          </td>
          <td style="width: 10%; ">
            <button mat-raised-button color="accent" (click)="btnPrintClick()">Print</button>
          </td>
        </tr>
      </table>

      <div class="container" fxLayout="row" fxLayout.xs="column" fxFlexFill>
        <div fxFlex="40"></div>
        <div fxFlex="20">
          <mat-form-field class="example-full-width">
            <mat-select input placeholder="Machine" [(ngModel)]="MachineID" [ngModelOptions]="{standalone: true}">
              <mat-option *ngFor="let objMachine of arrobjMachine" [value]="objMachine.id">
                {{objMachine.machineName}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div fxFlex="40"></div>
      </div>

      <mat-tab-group [selectedIndex]="tabActive" (selectedIndexChange)="tabChange($event)">
        <mat-tab label="เช็คความพร้อมของเครื่องจักร"  >
          <mat-table [dataSource]="dataSource1" matSortActive="lineOrder" class="scroll-hidden" matSortDirection="asc" matSortDisableClear
            matSort>

            <ng-container matColumnDef="lineOrder">
              <mat-header-cell *matHeaderCellDef fxFlex="50px" class="mat-cell-text">No.</mat-header-cell>
              <mat-cell *matCellDef="let machinechecklist" class="mat-cell-text" fxFlex="50px">{{machinechecklist.lineOrder}}</mat-cell>
            </ng-container>

            <ng-container matColumnDef="captionCol1">
              <mat-header-cell *matHeaderCellDef fxFlex="45%">Caption Col 1</mat-header-cell>
              <mat-cell *matCellDef="let machinechecklist" class="mat-cell-text" fxFlex="45%">{{machinechecklist.captionCol1}}</mat-cell>
            </ng-container>
            <ng-container matColumnDef="captionCol2">
              <mat-header-cell *matHeaderCellDef fxFlex="45%">Caption Col 2</mat-header-cell>
              <mat-cell *matCellDef="let machinechecklist" fxFlex="45%">{{machinechecklist.captionCol2 == '' ? '' :
                machinechecklist.captionCol2}}</mat-cell>
            </ng-container>

            <ng-container matColumnDef="actions">
              <mat-header-cell *matHeaderCellDef fxFlex="135px"></mat-header-cell>
              <mat-cell *matCellDef="let row; let i=index;" fxFlex="135px">

                <button mat-icon-button color="primary" (click)="upLineOrder(row.id,row.groupOrder)">
                  <mat-icon aria-label="Up">arrow_upward</mat-icon>
                </button>

                <button mat-icon-button color="primary" (click)="dwonLineOrder(row.id,row.groupOrder)">
                  <mat-icon aria-label="Down">arrow_downward</mat-icon>
                </button>

                <button mat-icon-button color="primary" (click)="rowClicked(row)">
                  <mat-icon aria-label="Edit">edit</mat-icon>
                </button>

                <button mat-icon-button color="accent" (click)="deleteItem(row.id)">
                  <mat-icon aria-label="Delete">delete</mat-icon>
                </button>

              </mat-cell>
            </ng-container>

            <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
            <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
          </mat-table>
        </mat-tab>
        <mat-tab label="เช็คสภาพการทำงานของ EPC">
          <mat-table [dataSource]="dataSource2" matSortActive="lineOrder" matSortDirection="asc" matSortDisableClear
            class="scroll-hidden" matSort>

            <ng-container matColumnDef="lineOrder">
              <mat-header-cell *matHeaderCellDef fxFlex="50px" class="mat-cell-text">No.</mat-header-cell>
              <mat-cell *matCellDef="let machinechecklist" class="mat-cell-text" fxFlex="50px">{{machinechecklist.lineOrder}}</mat-cell>
            </ng-container>

            <ng-container matColumnDef="captionCol1">
              <mat-header-cell *matHeaderCellDef fxFlex="50%">Caption Col 1</mat-header-cell>
              <mat-cell *matCellDef="let machinechecklist" class="mat-cell-text" fxFlex="50%">{{machinechecklist.captionCol1}}</mat-cell>
            </ng-container>
            <ng-container matColumnDef="captionCol2">
              <mat-header-cell *matHeaderCellDef fxFlex="50%">Caption Col 2</mat-header-cell>
              <mat-cell *matCellDef="let machinechecklist" fxFlex="50%">{{machinechecklist.captionCol2 == '' ? '' :
                machinechecklist.captionCol2}}</mat-cell>
            </ng-container>

            <ng-container matColumnDef="actions">
                <mat-header-cell *matHeaderCellDef fxFlex="135px"></mat-header-cell>
                <mat-cell *matCellDef="let row; let i=index;" fxFlex="135px">
  
                  <button mat-icon-button color="primary" (click)="upLineOrder(row.id,row.groupOrder)">
                    <mat-icon aria-label="Up">arrow_upward</mat-icon>
                  </button>
  
                  <button mat-icon-button color="primary" (click)="dwonLineOrder(row.id,row.groupOrder)">
                    <mat-icon aria-label="Down">arrow_downward</mat-icon>
                  </button>
  
                  <button mat-icon-button color="primary" (click)="rowClicked(row)">
                    <mat-icon aria-label="Edit">edit</mat-icon>
                  </button>
  
                  <button mat-icon-button color="accent" (click)="deleteItem(row.id)">
                    <mat-icon aria-label="Delete">delete</mat-icon>
                  </button>
  
                </mat-cell>
              </ng-container>

            <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
            <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>

          </mat-table>
        </mat-tab>
        <mat-tab label="เช็คความสะอาดเครื่องจักรก่อนเดินเครื่อง">
          <mat-table [dataSource]="dataSource3" matSortActive="lineOrder" matSortDirection="asc" matSortDisableClear
            class="scroll-hidden" matSort>

            <ng-container matColumnDef="lineOrder">
              <mat-header-cell *matHeaderCellDef fxFlex="50px" class="mat-cell-text">No.</mat-header-cell>
              <mat-cell *matCellDef="let machinechecklist" class="mat-cell-text" fxFlex="50px">{{machinechecklist.lineOrder}}</mat-cell>
            </ng-container>

            <ng-container matColumnDef="captionCol1">
              <mat-header-cell *matHeaderCellDef fxFlex="50%">Caption Col 1</mat-header-cell>
              <mat-cell *matCellDef="let machinechecklist" class="mat-cell-text" fxFlex="50%">{{machinechecklist.captionCol1}}</mat-cell>
            </ng-container>
            <ng-container matColumnDef="captionCol2">
              <mat-header-cell *matHeaderCellDef fxFlex="50%">Caption Col 2</mat-header-cell>
              <mat-cell *matCellDef="let machinechecklist" fxFlex="50%">{{machinechecklist.captionCol2 == '' ? '' :
                machinechecklist.captionCol2}}</mat-cell>
            </ng-container>

            <ng-container matColumnDef="actions">
                <mat-header-cell *matHeaderCellDef fxFlex="135px"></mat-header-cell>
                <mat-cell *matCellDef="let row; let i=index;" fxFlex="135px">
  
                  <button mat-icon-button color="primary" (click)="upLineOrder(row.id,row.groupOrder)">
                    <mat-icon aria-label="Up">arrow_upward</mat-icon>
                  </button>
  
                  <button mat-icon-button color="primary" (click)="dwonLineOrder(row.id,row.groupOrder)">
                    <mat-icon aria-label="Down">arrow_downward</mat-icon>
                  </button>
  
                  <button mat-icon-button color="primary" (click)="rowClicked(row)">
                    <mat-icon aria-label="Edit">edit</mat-icon>
                  </button>
  
                  <button mat-icon-button color="accent" (click)="deleteItem(row.id)">
                    <mat-icon aria-label="Delete">delete</mat-icon>
                  </button>
  
                </mat-cell>
              </ng-container>

            <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
            <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
          </mat-table>
        </mat-tab>
      </mat-tab-group>




    </div>

  </div>
</div>